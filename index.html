<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>G-Code thumbnail</h1><p>A simple library for creating 2D thumbnails from G-Code code. Shows the G1, G2
and G3 operations on XY plane. It can print the thumnail in a canvas, save it
as a PNG or returning a base 64 version of this PNG.</p>
<p>For installing this library:</p>
<pre class="prettyprint source"><code>npm install gcodethumbnail</code></pre><h2>Functionnalities</h2><p>Generated documentation can be found <strong>here</strong>.</p>
<p>Three functions are available. A type <code>Colors</code>.</p>
<pre class="prettyprint source lang-javascript"><code>/*
 * The colors for displaying G0, G1, G2 and G3 commands, each field is a string
 * of an hexadecimal color (ex: &quot;#ff00ff&quot;). If one field is undefined, the
 * corresponding G-Code command is not displayed.
 *
 * @typedef {object} Colors
 * @property {string} [colors.G0] - The colors for displaying G0 commands.
 * @property {string} [colors.G1] - The colors for displaying G1 commands.
 * @property {string} [colors.G2G3] - The colors for displaying G2 and G3
 *   commands.
 */</code></pre><h3>Preview</h3><pre class="prettyprint source lang-javascript"><code>/**
 * Previews in a canvas the G-Code.
 *
 * @param {string} gcodeStr - The G-Code.
 * @param {Colors} colors - The colors for displaying the commands.
 * @param {Canvas|DOMElement} canvas - The canvas (from document or the canvas
 *   library).
 */
function preview(gcodeStr, colors, canvas)</code></pre><h3>Get base 64</h3><pre class="prettyprint source lang-javascript"><code>/**
 * Gets the PNG thumbnail in base 64 representing the G-Code.
 *
 * @param {string} gcodeStr - The G-Code.
 * @param {Colors} colors - The colors for displaying the commands.
 * @param {number} width - The width in pixel.
 * @param {number} height - The height in pixel.
 * @return {string} The data URL of the image.
 */
exports.getBase64 = function(gcodeStr, colors, width, height)</code></pre><h3>Generate PNG</h3><pre class="prettyprint source lang-javascript"><code>/**
 * Generates in the file the PNG thumbnail4 representing the G-Code. Important
 * note: does not manage errors unfortunately.
 *
 * @param {string} path - The path to the file for saving the PNG.
 * @param {string} gcodeStr - The G-Code.
 * @param {Colors} colors - The colors for displaying the commands.
 * @param {number} width - The width in pixel.
 * @param {number} height - The height in pixel.
 * @param {function} [callback] - If defined, called when the process is over.
 */
exports.generatePNG = function(path, gcodeStr, colors, width, height, callback)</code></pre><h2>Example</h2><pre class="prettyprint source lang-javascript"><code>var path = require(&quot;path&quot;);
var Canvas = require(&quot;canvas&quot;);
var gcodethumbnail = require(&quot;./gcodethumbnail&quot;);

// Settings parameters
var colors = { G1 : '#000000', G2G3 : &quot;#000000&quot; };
var width = 250;
var height = 200;
var code = &quot;(Illerminaty)\n&quot;;
code += &quot;G1 Z-0.333 F66.6\n&quot;;
code += &quot;G1 X2\n&quot;;
code += &quot;G1 X1 Y1.73205\n&quot;;
code += &quot;G1 X0 Y0\n&quot;;
code += &quot;G1 Z1\n&quot;;
code += &quot;G0 X0.4 Y0.57735\n&quot;;
code += &quot;G1 Z-0.333 F66.6\n&quot;;
code += &quot;G3 X1.6 R0.8 F91.1\n&quot;;
code += &quot;G3 X0.4 R0.8\n&quot;;
code += &quot;G1 Z1\n&quot;;

// Previewing the thumbnail in a canvas
var canvas = new Canvas(width, height);
gcodethumbnail.preview(code, colors, canvas);

// Getting the base 64
var base = gcodethumbnail.getBase64(code, colors, width, height);
console.log(base);

// Saving the thumbnail
var path = __dirname + '/thumbnail.png';
gcodethumbnail.generatePNG(path, code, colors, width, height);

// Important weakness of the library here: if in Linux environment and not
// root, will cause an error (EACCES: permission denied) but the callback
// function will be called.
gcodethumbnail.generatePNG(&quot;/thumbnail.png&quot;, code, colors, width, height,
    function() { console.log(&quot;Complete.&quot;); }
);</code></pre><h2>License</h2><p>For this software.</p>
<pre class="prettyprint source"><code>   Copyright 2016 Alex Canales

   Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.</code></pre><p>For the dependencies, check out there repositories.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#generatePNG">generatePNG</a></li><li><a href="global.html#getBase64">getBase64</a></li><li><a href="global.html#preview">preview</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Fri Aug 26 2016 18:27:57 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>